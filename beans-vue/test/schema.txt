++++++++++++++++++++++++++++++++++++++++++++

DATABASES  

BEANS
_id: beansApp
taxonomies:
    [ array of nodes ]
suppliers: 
    [ array of supplier names ]
groups
    [ array of group names, each having:]
        items
        members
        suppliers
        orders
        invoices

++++++++++++++++++++++++++++++++++++++++++++

CF-ITEMS
_id: type:variety:123
category: ...
type: ...
variety: ...
packingType: ...
supplierAvailabilites: {
    supplierName:...
    colour: ...
    size: ...
    quality: ...
    description: ...  
    unit: ...
    price: ...
    gst: ...
    boxSize: ...
    producer: ...
    comments: ...  
}, {
    ...
}, {
    ...
}

+++++++++++++++++++++++++++++++++++++++++++

CF-MEMBER-xx (separate db per member)
_id: fName:lastInitial:123
group: ...
name: ...
phone: ...
email: ...
team: ...
role: ...
balance: $..
invoices: {
    invNbr: ...
    date: ...
    amount: $..
    owing: $.. (amount owing on invoice)
    attachment: ...
},{
    -- invoice--
},{
    -- invoice--
}
payments: {
    date: ...
    amount: $..
    appliedTo: (invNbr ___ OR credit balance)
    balance: $.. (member balance once payment applied)
},{
    -- payment --
},{
    -- payment --
}

++++++++++++++++++++++++++++++++++++++++++++

CF-SUPPLIERS (multiple suppliers in this db)
_id: company/name:123
groups: {
    groupName: ...
}, {
    groupName: ...
},
name: ...
phone: ...
email: ...
ABN: ...
invoices: {
    invNbr: ...
    date: ...
    amount: $..
    owed: ...
    attachment: ...
}
payments: {
    date: ...
    amount: $..
    appliedTo: (invNbr ___ OR credit balance)    
}

++++++++++++++++++++++++++++++++++++++++++++

TAXONOMIES (multiple taxonomies at meta level)
eg default taxonomy for full cream milk
{
    _id: default
    parent: null
},{
    _id: dairy
    parent: default
},{
    _id: milk
    parent: dairy
},{
    _id: full-cream
    parent: milk
}

may need $graphLookup

++++++++++++++++++++++++++++++++++++++++++++

CF-ADMIN (group details)
_id: Coochie Foodies
code: CF
online:{
    channel: (web, fb, twitter, etc)
    address: --path--
    },{
        --online--
    },{
        --online--
    },
contacts:{
    name: --name-
    email: --email--
    phone: --phone--
    notes: --
    },{
        --contact--
    },{
        --contact--
    },
roles:{
    role: --role--
    members: {
        memberID: ...
        name: ...
        phone: ...
        email: ...
        },{
            --member--
        },{
            --member--
        },
    {
        --role--
    },
    {
        --role--
    }
teams:{
    team: --team--
    members: {
        memberID: ...
        name: ...
        phone: ...
        email: ...        
        },{
            -- member --
        },{
            -- member --
        },
    {
        -- team --
    },{
        -- team --
    }
}

++++++++++++++++++++++++++++++++++++++++++++

CF-ORDERS (multiple orders in this db)
_id: date:orderNbr
orderDate: xxx
packDate: xxx
orderNbr: xxx
memberID: xxx
memberName: xxx
memberPhone: xxx
memberAddress: xxx
memberNote: xxx
orderTotal
markup
surcharge
discount
...?
items: {
    item
    variety
    description
    supplier
    producer
    unit    (0 for N/A)
    quality
    price
    subtotal
}

++++++++++++++++++++++++++++++++++++++++++++
